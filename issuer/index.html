<!doctype html>
<html>
  <head>
    <title>Issuer</title>
    <link rel='stylesheet' type='text/css' href='style.css'/>
    <script src="badges.js"></script>
    <script src="/hub/jschannel/src/jschannel.js"></script>
  </head>
  <body>
    <ul id="badges">
      <li>Give me the <a href='#' rel='audio'>Audio Editor</a> badge</li>
      <li>I'd really like the <a href='#' rel='science'>Science Journalist</a> badge</li>
      <li>I think I've earned the <a href='#' rel='video'>Video Editor</a> badge</li>
      <li>My life won't be complete without the <a href='#' rel='accessibility'>Accessibility Expert</a> badge</li>
      <li>{badge: "<a href='#' rel='javascript'>Javascript Expert</a>"}</li>
    </ul>
    <script src="/hub/src/hub.js"></script>
    <script>
      var global = this
        , badge_links = document.getElementById('badges').getElementsByTagName('a')
        , badge_link = null
        , badge_name = null
        , badge = null;
      
      for (var i=0; badge_links[i]; i++) {
        var badge_link = badge_links[i];
        badge_link.onclick = function(){
        badge_name = this.rel;
        badge = global.badges[badge_name];
        if (badge) {
          Hub.saveBadge(badge, function(){alert('added ' + badge_name + ' badge');});
        }
        return false;
        };
      };
    </script>
  
  </body>
</html>
